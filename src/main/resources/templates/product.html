<!DOCTYPE html>
<html lang="en" th:replace="~{index :: parent(~{::#content}, ~{::title})}">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gopal Shopping | Products</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.4.3/dist/tailwind.min.css" rel="stylesheet">
  <script src="https://unpkg.com/scrollreveal"></script>
</head>

<body class="bg-gray-50 text-gray-800">

  <div id="content">

  
  <!-- <section class="pt-24 pb-16">
    <div class="max-w-7xl mx-auto px-6">

     
      <div class="flex flex-col md:flex-row justify-between items-center mb-8 space-y-4 md:space-y-0">
        <h1 class="text-3xl font-bold text-blue-600">Our Products</h1>

        
        <div class="flex flex-col sm:flex-row items-center gap-4 w-full md:w-auto">
          <input type="text" id="searchInput" placeholder="Search product..."
                 class="w-full sm:w-64 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 transition">
          <select id="sortSelect"
                  class="w-full sm:w-40 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 transition">
            <option value="">Sort by</option>
            <option value="low-high">Price: Low â†’ High</option>
            <option value="high-low">Price: High â†’ Low</option>
            <option value="name">Name</option>
          </select>
        </div>
      </div>

      
      <div id="productGrid"
           class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8">
        <div th:each="product : ${products}"
             class="bg-white rounded-xl shadow hover:shadow-2xl transition-all transform hover:-translate-y-2 cursor-pointer relative group"
             data-sr="fade-up">
          
          
          <div class="relative">
            <img th:src="@{'/images/products/' + ${product.image}}"
                 alt="Product"
                 class="rounded-t-xl h-56 w-full object-cover transition-all duration-300 group-hover:opacity-90">
            <div class="absolute inset-0 bg-black bg-opacity-20 opacity-0 group-hover:opacity-100 flex justify-center items-center transition-all duration-300">
              <a th:href="@{'/product/' + ${product.id}}"
                 class="bg-white text-blue-600 px-4 py-2 rounded-lg font-semibold hover:bg-blue-100 transition">View</a>
            </div>
          </div>

          
          <div class="p-5">
            <h3 class="text-lg font-semibold text-gray-700 truncate" th:text="${product.name}">Product Name</h3>
            <p class="text-gray-500 text-sm" th:text="${product.category.name}">Category</p>
            <div class="flex justify-between items-center mt-3">
              <span class="text-blue-600 font-bold text-lg" th:text="'â‚¹' + ${product.price}">â‚¹999</span>
              <button class="bg-blue-600 text-white text-sm px-4 py-2 rounded-lg hover:bg-blue-700 transition">
                Add to Cart
              </button>
            </div>
          </div>
        </div>
      </div>

    </div>
  </section>

 -->



    
<!-- 
    <div class="container-fluid" class="btn btn-primary p-5 mt-5">
        <div class="row">
            <div class="col-md-8 offset-md-2">
                <form>
                    <div class="input-group">
                        <input type="text" class="form-control" name="ch">
                        <button class="btn btn-light text-dark ms-3 col-md-2"><i class="fa-solid fa-magnifying-glass"></i>Search</button>
                    </div>
                </form>
            </div>
        </div>
    
        <div class="container-fluid mt-1">
            <div class="row">
                <div class="col-md-2 p-0">

                    <div class="card shadow-sm p-3 mb-5 bg-body-tertiary rounded">
                        <div class="card-body">
                    
                            <div class="list-group">
                        <a href="#" class="list-group-item list-group-item-action active" aria-current="true">
                            Categories
                        </a>
                        <a href="#" class="list-group-item list-group-item-action">Electronics</a>
                        <a href="#" class="list-group-item list-group-item-action">Mobile Phone</a>
                        <a href="#" class="list-group-item list-group-item-action">Clothers</a>
                        
                    </div>
                    </div>
                    </div>
                </div>

                <div class="col-md-10">
                    <div class="card shadow-sm p-3 mb-5 bg-body-tertiary rounded">
                        <div class="card-body">
                            <p class="fs-3 text-center">
                                Products
                            </p>

                            <div class="row">

                                <div class="col-md-3">
                                    <div class="card">
                                        <div class="card-body text-center">
                                            <img src="/images/products/laptop.jpg" width="100%" height="150px" alt="laptop image">
                                            <p class="fs- text-center">Laptop</p>
                                            <div class="row text-center">
                                                <p class="fs-6">&#8377; 500
                                                    <span class="fs-6 text-success">20% off</span>
                                                </p>
                                                <a href="#" class="btn btn-primary col-md-6 offset-md-3">View Details</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-3">
                                    <div class="card">
                                        <div class="card-body text-center">
                                            <img src="/images/products/laptop.jpg" width="100%" height="150px" alt="laptop image">
                                            <p class="fs- text-center">Laptop</p>
                                            <div class="row text-center">
                                                <p class="fs-6">&#8377; 500
                                                    <span class="fs-6 text-success">20% off</span>
                                                </p>
                                                <a href="#" class="btn btn-primary col-md-6 offset-md-3">View Details</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-3">
                                    <div class="card">
                                        <div class="card-body text-center">
                                            <img src="/images/products/laptop.jpg" width="100%" height="150px" alt="laptop image">
                                            <p class="fs- text-center">Laptop</p>
                                            <div class="row text-center">
                                                <p class="fs-6">&#8377; 500
                                                    <span class="fs-6 text-success">20% off</span>
                                                </p>
                                                <a href="#" class="btn btn-primary col-md-6 offset-md-3">View Details</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-3">
                                    <div class="card">
                                        <div class="card-body text-center">
                                            <img src="/images/products/laptop.jpg" width="100%" height="150px" alt="laptop image">
                                            <p class="fs- text-center">Laptop</p>
                                            <div class="row text-center">
                                                <p class="fs-6">&#8377; 500
                                                    <span class="fs-6 text-success">20% off</span>
                                                </p>
                                                <a href="#" class="btn btn-primary col-md-6 offset-md-3">View Details</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>

                        </div>
                    </div>
                </div>

            </div>
        </div>
    
    </div>
  -->


<div class="w-full bg-blue-600 p-5 mt-15">
  
  <div class="flex justify-center">
    <form class="w-full max-w-3xl">
      <div class="flex flex-col sm:flex-row items-center">
        <input 
          type="text" 
          name="ch"
          placeholder="Search..."
          class="w-full px-4 py-2 rounded-lg focus:outline-none bg-white focus:ring-2 focus:ring-blue-300 text-gray-800 mb-3 sm:mb-0"
        />
        <button 
          type="submit"
          class="ml-0 sm:ml-3 px-6 py-2 bg-white text-blue-700 font-semibold rounded-lg hover:bg-blue-100 transition-all duration-300 flex items-center justify-center">
          <i class="fa-solid fa-magnifying-glass mr-2"></i>Search
        </button>
      </div>
    </form>
  </div>
</div>


<div class="w-full mt-5 px-4 lg:px-10">
  <div class="flex flex-col lg:flex-row gap-6">
    
    
    <div class="w-full lg:w-1/5">
      <div class="bg-white shadow-lg rounded-lg p-4">
        <h2 class="text-xl font-semibold mb-4 border-b pb-2 text-blue-600">Categories</h2>
        <ul class="space-y-2">
          <li th:href="@{#}" class="block px-3 py-2 bg-blue-600 text-white rounded-md font-medium transition">All</li>
          <li th:each="cat, c : ${category}">
            <a th:href="@{'/product/view/category/' + ${cat.name}}" class="block px-3 py-2 text-gray-800 rounded-md font-medium hover:bg-blue-700 hover:text-white transition">
              [[${cat.name}]]
            </a>
          </li>
        </ul>
      </div>
    </div>

    
    <div class="w-full lg:w-4/5">
      <div class="bg-white shadow-lg rounded-lg p-6">
        <h2 class="text-2xl font-semibold text-center text-blue-600 mb-6">Products</h2>
        
        
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-6">

          
          <div th:each="prod, p : ${products}" class="bg-gray-50 rounded-lg shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1">
            <img th:src="@{'/images/products/'+${prod.imageName}}" alt="Laptop" class="w-full h-40 object-cover rounded-t-lg">
            <div class="p-4 text-center">
              <p class="font-semibold text-gray-800 mb-2">[[${prod.title}]]</p>
              <p class="text-gray-900 text-2xl">
                â‚¹ [[${prod.discountPrice}]] 
                <span class="text-green-600 text-sm">[[${prod.discount}]]% off</span>
              </p>
              <a th:href="@{'/product/view/'+${prod.id}}"
                 class="inline-block bg-blue-600 text-white px-4 py-2 rounded-md font-medium hover:bg-blue-700 transition duration-200">
                View Details
              </a>
            </div>
          </div>

          <!-- Category products show -->
          <div th:each="prod, p : ${product}" class="bg-gray-50 rounded-lg shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1">
            <img th:src="@{'/images/products/'+${prod.imageName}}" alt="Laptop" class="w-full h-40 object-cover rounded-t-lg">
            <div class="p-4 text-center">
              <p class="font-semibold text-gray-800 mb-2">[[${prod.title}]]</p>
              <p class="text-gray-900 text-2xl">
                â‚¹ [[${prod.discountPrice}]] 
                <span class="text-green-600 text-sm">[[${prod.discount}]]% off</span>
              </p>
              <a th:href="@{'/product/view/'+${prod.id}}"
                 class="inline-block bg-blue-600 text-white px-4 py-2 rounded-md font-medium hover:bg-blue-700 transition duration-200">
                View Details
              </a>
            </div>
          </div>
          
          <!-- <div class="bg-gray-50 rounded-lg shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1">
            <img src="/images/products/laptop.jpg" alt="Laptop" class="w-full h-40 object-cover rounded-t-lg">
            <div class="p-4 text-center">
              <p class="font-semibold text-gray-800 mb-2">Laptop</p>
              <p class="text-gray-600 text-sm mb-3">
                â‚¹500 <span class="text-green-600 text-sm">20% off</span>
              </p>
              <a href="#"
                 class="inline-block bg-blue-600 text-white px-4 py-2 rounded-md font-medium hover:bg-blue-700 transition duration-200">
                View Details
              </a>
            </div>
          </div>

          <div class="bg-gray-50 rounded-lg shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1">
            <img src="/images/products/laptop.jpg" alt="Laptop" class="w-full h-40 object-cover rounded-t-lg">
            <div class="p-4 text-center">
              <p class="font-semibold text-gray-800 mb-2">Laptop</p>
              <p class="text-gray-600 text-sm mb-3">
                â‚¹500 <span class="text-green-600 text-sm">20% off</span>
              </p>
              <a href="#"
                 class="inline-block bg-blue-600 text-white px-4 py-2 rounded-md font-medium hover:bg-blue-700 transition duration-200">
                View Details
              </a>
            </div>
          </div>

          <div class="bg-gray-50 rounded-lg shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1">
            <img src="/images/products/laptop.jpg" alt="Laptop" class="w-full h-40 object-cover rounded-t-lg">
            <div class="p-4 text-center">
              <p class="font-semibold text-gray-800 mb-2">Laptop</p>
              <p class="text-gray-600 text-sm mb-3">
                â‚¹500 <span class="text-green-600 text-sm">20% off</span>
              </p>
              <a href="#"
                 class="inline-block bg-blue-600 text-white px-4 py-2 rounded-md font-medium hover:bg-blue-700 transition duration-200">
                View Details
              </a>
            </div>
          </div> -->

        </div>
      </div>
    </div>

  </div>
</div> 





<!-- <div class="bg-white">
  <div class="mx-auto max-w-2xl px-4 py-16 sm:px-6 sm:py-24 lg:max-w-7xl lg:px-8">
    <h2 class="text-2xl font-bold tracking-tight text-gray-900">Customers also purchased</h2>

    <div class="mt-6 grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-4 xl:gap-x-8">
      <div class="group relative">
        <img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/product-page-01-related-product-01.jpg" alt="Front of men&#039;s Basic Tee in black." class="aspect-square w-full rounded-md bg-gray-200 object-cover group-hover:opacity-75 lg:aspect-auto lg:h-80" />
        <div class="mt-4 flex justify-between">
          <div>
            <h3 class="text-sm text-gray-700">
              <a href="#">
                <span aria-hidden="true" class="absolute inset-0"></span>
                Basic Tee
              </a>
            </h3>
            <p class="mt-1 text-sm text-gray-500">Black</p>
          </div>
          <p class="text-sm font-medium text-gray-900">$35</p>
        </div>
      </div>
      <div class="group relative">
        <img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/product-page-01-related-product-02.jpg" alt="Front of men&#039;s Basic Tee in white." class="aspect-square w-full rounded-md bg-gray-200 object-cover group-hover:opacity-75 lg:aspect-auto lg:h-80" />
        <div class="mt-4 flex justify-between">
          <div>
            <h3 class="text-sm text-gray-700">
              <a href="#">
                <span aria-hidden="true" class="absolute inset-0"></span>
                Basic Tee
              </a>
            </h3>
            <p class="mt-1 text-sm text-gray-500">Aspen White</p>
          </div>
          <p class="text-sm font-medium text-gray-900">$35</p>
        </div>
      </div>
      <div class="group relative">
        <img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/product-page-01-related-product-03.jpg" alt="Front of men&#039;s Basic Tee in dark gray." class="aspect-square w-full rounded-md bg-gray-200 object-cover group-hover:opacity-75 lg:aspect-auto lg:h-80" />
        <div class="mt-4 flex justify-between">
          <div>
            <h3 class="text-sm text-gray-700">
              <a href="#">
                <span aria-hidden="true" class="absolute inset-0"></span>
                Basic Tee
              </a>
            </h3>
            <p class="mt-1 text-sm text-gray-500">Charcoal</p>
          </div>
          <p class="text-sm font-medium text-gray-900">$35</p>
        </div>
      </div>
      <div class="group relative">
        <img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/product-page-01-related-product-04.jpg" alt="Front of men&#039;s Artwork Tee in peach with white and brown dots forming an isometric cube." class="aspect-square w-full rounded-md bg-gray-200 object-cover group-hover:opacity-75 lg:aspect-auto lg:h-80" />
        <div class="mt-4 flex justify-between">
          <div>
            <h3 class="text-sm text-gray-700">
              <a href="#">
                <span aria-hidden="true" class="absolute inset-0"></span>
                Artwork Tee
              </a>
            </h3>
            <p class="mt-1 text-sm text-gray-500">Iso Dots</p>
          </div>
          <p class="text-sm font-medium text-gray-900">$35</p>
        </div>
      </div>
    </div>
  </div>
</div> -->


  <!-- âœ… Scroll Animations -->
  <script>
    ScrollReveal().reveal('[data-sr="fade-up"]', {
      duration: 800,
      origin: 'bottom',
      distance: '40px',
      delay: 100
    });
  </script>

  <!-- âœ… Client-side Search & Sort -->
  <script>
    const searchInput = document.getElementById('searchInput');
    const sortSelect = document.getElementById('sortSelect');
    const productGrid = document.getElementById('productGrid');
    const productCards = Array.from(productGrid.children);

    // ðŸ” Live Search
    searchInput.addEventListener('input', () => {
      const term = searchInput.value.toLowerCase();
      productCards.forEach(card => {
        const name = card.querySelector('h3').textContent.toLowerCase();
        card.style.display = name.includes(term) ? 'block' : 'none';
      });
    });

    // â†•ï¸ Sorting
    sortSelect.addEventListener('change', () => {
      const option = sortSelect.value;
      let sorted = [...productCards];

      if (option === 'low-high') {
        sorted.sort((a, b) => getPrice(a) - getPrice(b));
      } else if (option === 'high-low') {
        sorted.sort((a, b) => getPrice(b) - getPrice(a));
      } else if (option === 'name') {
        sorted.sort((a, b) => getName(a).localeCompare(getName(b)));
      }

      productGrid.innerHTML = '';
      sorted.forEach(card => productGrid.appendChild(card));
    });

    function getPrice(card) {
      return parseFloat(card.querySelector('span').textContent.replace('â‚¹', ''));
    }

    function getName(card) {
      return card.querySelector('h3').textContent;
    }
  </script>

  </div>

</body>

</html>
